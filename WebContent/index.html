<!doctype html> 
<html> 
<head> 
  <meta charset="utf-8"/> 
  <meta name="viewport" content="width=device-width,initial-scale=1"/> 
  <title>OnlineLMS</title> 
  <link rel="stylesheet" href="assets/styles.css"/> 
</head> 
<body> 
  <div class="nav"> 
    <a class="active" href="index.html">Home</a> 
    <a href="dashboard.html">Dashboard</a> 
    <a href="courses.html">Courses</a> 
    <a href="contests.html">Contests</a> 
    <a href="ide.html">Open IDE</a> 
    <a href="leaderboard.html">Leaderboard</a> 
  </div> 

  <div class="container"> 
    <div class="card"> 
      <h1>Welcome to OnlineLMS</h1> 
      <p>Minimal LMS starter with Java backend. Use the nav to explore.</p> 
      <div class="grid grid-2"> 
        <div class="card"> 
          <h3>Register</h3> 
          <input class="input" id="name" placeholder="Name"/> 
          <input class="input" id="email" placeholder="Email" style="margin-top:8px"/> 
          <input class="input" id="password" type="password" placeholder="Password" style="margin-top:8px"/> 
          <button class="btn" style="margin-top:10px" onclick="register()">Create account</button> 
          <small id="regMsg"></small> 
        </div> 
        <div class="card"> 
          <h3>Login</h3> 
          <input class="input" id="lemail" placeholder="Email"/> 
          <input class="input" id="lpassword" type="password" placeholder="Password" style="margin-top:8px"/> 
          <button class="btn" style="margin-top:10px" onclick="login()">Sign in</button> 
          <small id="logMsg"></small> 
        </div> 
      </div> 
    </div> 
  </div> 

<script> 
async function register(){ 
  const b=new URLSearchParams({
    action:'register',
    name:val('name'),
    email:val('email'),
    password:val('password')
  }); 
  const r=await fetch('api/auth/register',{method:'POST',body:b}); 
  document.getElementById('regMsg').textContent= r.ok? 'Registered! Go to Dashboard.' : 'Error: '+(await r.text()); 
} 

async function login(){ 
  const b=new URLSearchParams({
    action:'login',
    email:val('lemail'),
    password:val('lpassword')
  }); 
  const r=await fetch('api/auth/login',{method:'POST',body:b}); 
  document.getElementById('logMsg').textContent= r.ok? 'Logged in! Open Dashboard.' : 'Error: '+(await r.text()); 
} 

function val(id){return document.getElementById(id).value} 
</script> 
</body></html>
